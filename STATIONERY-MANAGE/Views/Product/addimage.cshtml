@model STATIONERY_MANAGE.Models.product
@{
    ViewBag.Title = "addimage";
    Layout = "~/Views/Shared/_Layout1.cshtml";
}
}



<!-- Content Wrapper. Contains page content -->
<div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
        <h1>
            Manage
            <small>Products</small>
        </h1>
        <ol class="breadcrumb">
            <li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>
            <li class="active">Products</li>
        </ol>
    </section>

    <!-- Main content -->
    <section class="content">
        <!-- Small boxes (Stat box) -->
        <div class="row">
            <div class="col-md-12 col-xs-12">

                <div id="messages"></div>

                <div class="alert alert-success alert-dismissible" role="alert">
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>

                </div>

                <div class="alert alert-error alert-dismissible" role="alert">
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>

                </div>



                <div class="box">
                    <div class="box-header">
                        <h3 class="box-title">Add Product Image</h3>
                    </div>
                    <!-- /.box-header -->
                    
                    <hr />
                    
                    <fieldset>

                        @using (Html.BeginForm("UploadMulti", "Product", FormMethod.Post, new { enctype = "multipart/form-data" }))
                        {
                            @Html.AntiForgeryToken()

                            <input type="hidden" name="product_id" value="@Html.ValueFor(Model => Model.id)">
                            <label>Choose file: </label><br />
                            <a class="btnAddNew" href="#">ADD</a>
                            <br />
                            <div id="myinput" class="myinput">
                                <input type="file" name="uploadFile[0]" required /><br />
                            </div>
                            <br />
                            <button type="submit" class="btn btn-primary"> save changes </button>

                        }
                    </fieldset>

                    

                    <!-- /.box-body -->
                </div>
                <!-- /.box -->
            </div>
            <!-- col-md-12 -->
        </div>
        <!-- /.row -->


    </section>
    <!-- /.content -->
</div>
<!-- /.content-wrapper -->

<script type="text/javascript">
    $(document).ready(function () {
        var max_fields = 10; //maximum input boxes allowed
        var wrapper = $(".myinput"); //Fields wrapper
        var add_button = $(".btnAddNew"); //Add button ID

        var x = 0; //initlal text box count
        $(add_button).click(function (e) { //on add input button click
            e.preventDefault();
            if (x < max_fields) { //max input box allowed
                x++; //text box increment
                $(wrapper).append('<div>   <input type="file" name="uploadFile[' + x + ']" /><a href="#" class="btnRemove">Xóa</a></div>'); //add input box
            }
        });

        $(wrapper).on("click", ".btnRemove", function (e) { //user click on remove text
            e.preventDefault(); $(this).parent('div').remove(); x--;
        })
    });

</script>


